<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿé¨“ãƒ¬ãƒãƒ¼ãƒˆ</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']], // $...$ ã‚’æ•°å¼ã¨ã—ã¦èªè­˜ã•ã›ã‚‹è¨­å®š
                processEscapes: true
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        body {
            font-family: "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
            background-color: #f0f2f5;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 210mm; /* A4å¹… */
            margin: 0 auto;
            background-color: #fff;
            padding: 20mm;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            box-sizing: border-box;
        }
        /* ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ± */
        .header-info {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .input-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        input[type="text"] {
            border: none;
            border-bottom: 1px solid #ccc;
            font-size: 16px;
            padding: 5px;
            width: 150px;
            background: #fafafa;
        }
        
        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« */
        h1 {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
        }
        h2 {
            background-color: #e3f2fd;
            padding: 10px;
            border-left: 6px solid #2196f3;
            font-size: 18px;
            margin-top: 30px;
        }
        h3 {
            font-size: 16px;
            margin-top: 15px;
            color: #444;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        
        /* ã‚µã‚¤ã‚¯ãƒ«èª¬æ˜ãƒœãƒƒã‚¯ã‚¹ */
        .cycle-guide {
            background-color: #fff8e1;
            border: 1px dashed #ffc107;
            padding: 10px;
            font-size: 12px;
            margin-bottom: 20px;
            color: #666;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */
        .content-box {
            margin-bottom: 15px;
        }
        .question-text {
            font-weight: bold;
            color: #d32f2f;
            background: #fff5f5;
            padding: 10px;
            border-radius: 4px;
            line-height: 1.8; /* æ•°å¼ãŒè¦‹ã‚„ã™ã„ã‚ˆã†ã«è¡Œé–“ã‚’å°‘ã—åºƒã’ã‚‹ */
        }
        .procedure-text {
            background: #f1f8e9;
            padding: 10px;
            font-size: 14px;
            border-radius: 4px;
            line-height: 1.8;
        }
        textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            resize: vertical;
            box-sizing: border-box;
        }
        
        /* ãƒœã‚¿ãƒ³é¡ */
        .btn-sim {
            display: inline-block;
            background-color: #2196f3;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
            margin: 5px 0;
            transition: background 0.3s;
        }
        .btn-sim:hover {
            background-color: #1976d2;
        }
        .action-area {
            text-align: center;
            margin-top: 40px;
        }
        .btn-pdf {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-pdf:hover {
            background-color: #388e3c;
        }

        /* ç”»åƒè¡¨ç¤ºã‚¨ãƒªã‚¢ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆã‚µãƒ¼ãƒãƒ¼èª­ã¿è¾¼ã¿ç”¨ï¼‰ */
        .circuit-image-container {
            text-align: center;
            margin: 20px 0;
            padding: 10px;
            border: 1px solid #eee;
            background-color: #fafafa;
        }
        .circuit-image-container img {
            max-width: 100%;       /* å¹…ã¯è¦ªè¦ç´ ã«åˆã‚ã›ã‚‹ */
            max-height: 300px;     /* é«˜ããªã‚Šã™ããªã„ã‚ˆã†ã«åˆ¶é™ */
            height: auto;
            border: 1px solid #ccc;
        }
        .img-caption {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #555;
        }

        /* å°åˆ·/PDFåŒ–æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ«åˆ¶å¾¡ */
        @media print {
            .no-print { display: none !important; }
            body { background: white; padding: 0; }
            .container { box-shadow: none; padding: 0; }
            textarea { border: none; resize: none; border-bottom: 1px solid #eee; }
            input[type="text"] { background: white; }
        }
    </style>
</head>
<body>

<div class="container" id="report-content">
    <h1>ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿé¨“ãƒ¬ãƒãƒ¼ãƒˆ</h1>
    
    <div class="header-info">
        <div class="input-group">
            <label>ã‚¯ãƒ©ã‚¹:</label>
            <input type="text" placeholder="ä¾‹: 2-A">
        </div>
        <div class="input-group">
            <label>ç•ªå·:</label>
            <input type="text" placeholder="ä¾‹: 15">
        </div>
        <div class="input-group">
            <label>åå‰:</label>
            <input type="text" placeholder="æ°åã‚’å…¥åŠ›">
        </div>
    </div>

    <div class="cycle-guide">
        <strong>ã€å•ã„ã®ã‚µã‚¤ã‚¯ãƒ«ã€‘ã«ã¤ã„ã¦</strong><br>
        ã€Œ1.å•ã„ã€â†’ã€Œ2.è‡ªåˆ†ã®è€ƒãˆãƒ»ä»®èª¬ã€â†’ã€Œ3.èª¿ã¹ãŸã“ã¨ï¼ˆå®Ÿé¨“ï¼‰ã€â†’ã€Œ4.æ°—ã¥ã„ãŸã“ã¨ã€ã‚’1ã‚µã‚¤ã‚¯ãƒ«ã¨ã—ã¾ã™ã€‚<br>
        ã“ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ç¹°ã‚Šè¿”ã—ã€å¾—ã‚‰ã‚ŒãŸã€Œæ°—ã¥ã„ãŸã“ã¨ã€ã‚’çµ±åˆã—ã¦è€ƒå¯Ÿã—ãŸã‚‚ã®ã‚’ã€Œ5.ã‚ã‹ã£ãŸã“ã¨ï¼ˆå­¦å•ï¼‰ã€ã¨ã—ã¦è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚
    </div>

    <h2>1. ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ã®å¾®è¦–çš„ç†è§£ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼ˆå•é¡Œ [I] å¯¾å¿œï¼‰</h2>
    <a href="https://takeruhonda.github.io/physics-electromagnetism-sim/Electron_micro_physics_2025_17.html" target="_blank" class="btn-sim no-print">
        ğŸ“¡ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é–‹ã (Micro Physics)
    </a>

    <div class="content-box">
        <h3>1. å•ã„</h3>
        <div class="question-text">
            é›»æ± ã‚’ã¤ãªã„ã§å……é›»ã—ãŸå¾Œã€ã‚¹ã‚¤ãƒƒãƒã‚’é–‹ã„ã¦ï¼ˆé›»è·ã‚’é–‰ã˜è¾¼ã‚ã¦ï¼‰æ¥µæ¿é–“éš” $d$ ã‚’2å€ã«åºƒã’ã‚‹ã¨ã€æ¥µæ¿é–“ã®é›»åœ§ã¨é™é›»ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿã¾ãŸã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå¢—ãˆã‚‹å ´åˆã€ãã®æºã¯ä½•ã‹ï¼Ÿ
        </div>
    </div>

    <div class="content-box">
        <h3>2. è‡ªåˆ†ã®è€ƒãˆãƒ»ä»®èª¬</h3>
        <textarea placeholder="ã‚¹ã‚¤ãƒƒãƒã‚’åˆ‡ã£ã¦ã„ã‚‹ã®ã§é›»è·ã¯... ã ã‹ã‚‰é›»åœ§ã¯... ã«ãªã‚‹ã¨äºˆæƒ³ã™ã‚‹ã€‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ã«ã¤ã„ã¦ã¯..."></textarea>
    </div>

    <div class="content-box">
        <h3>3. èª¿ã¹ãŸã“ã¨ï¼ˆå®Ÿé¨“æ‰‹é †ï¼‰</h3>
        <div class="procedure-text">
            <ol>
                <li>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ã¨é›»æ± ã®å›è·¯ã‚’ä½œæˆã—ã€ã‚¹ã‚¤ãƒƒãƒã‚’ONã«ã—ã¦å……é›»ã™ã‚‹ã€‚</li>
                <li><strong>ã‚¹ã‚¤ãƒƒãƒã‚’OFFï¼ˆã¾ãŸã¯é›»æ± ã‚’å‰Šé™¤ï¼‰ã«ã™ã‚‹ã€‚</strong>ï¼ˆâ€»ã“ã“ãŒé‡è¦ï¼‰</li>
                <li>æ¥µæ¿é–“éš” $d$ ã‚’åºƒã’ã€é›»åœ§è¨ˆã®æ•°å€¤ã€é›»è·ã®å¯†åº¦ã€é›»å ´ã®æ§˜å­ã‚’è¦³å¯Ÿã™ã‚‹ã€‚</li>
                <li>ã‚¨ãƒãƒ«ã‚®ãƒ¼è¡¨ç¤ºã‚’ç¢ºèªã—ã€å¤‰åŒ–ã®æœ‰ç„¡ã‚’è¨˜éŒ²ã™ã‚‹ã€‚</li>
            </ol>
        </div>
        <h3>å®Ÿé¨“çµæœ</h3>
        <textarea placeholder="dã‚’åºƒã’ã‚‹ã¨é›»åœ§è¨ˆã®å€¤ã¯... é›»è·ã®åˆ†å¸ƒã¯... ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®å€¤ã¯..."></textarea>
    </div>

    <div class="content-box">
        <h3>4. æ°—ã¥ã„ãŸã“ã¨ï¼ˆä»®èª¬ã¨ã®å¯¾æ¯”ï¼‰</h3>
        <textarea placeholder="äºˆæƒ³ã¨é•ã„ã€...ã ã£ãŸã€‚é›»æ± ãŒç¹‹ãŒã£ã¦ã„ãªã„ã®ã«ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå¢—ãˆãŸã®ã¯... ã ã‹ã‚‰ã ã¨æ°—ã¥ã„ãŸã€‚"></textarea>
    </div>

    <h2>2. è¤‡é›‘ãªå›è·¯ã®å®šå¸¸çŠ¶æ…‹ã¨é›»ä½ã®ãƒãƒ©ãƒ³ã‚¹ï¼ˆå•é¡Œ [II] å¯¾å¿œï¼‰</h2>
    <a href="https://takeruhonda.github.io/physics-electromagnetism-sim/Electron_circuit_physics_2025_7.html" target="_blank" class="btn-sim no-print">
        ğŸ”Œ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é–‹ã (Circuit Physics)
    </a>

    <div class="content-box">
        <div class="circuit-image-container">
            <div class="img-caption">å›³4ï¼šå®Ÿé¨“å¯¾è±¡ã®å›è·¯å›³</div>
            <img src="./figure4.png" alt="å›³4 å›è·¯å›³" onerror="this.style.display='none'; alert('ç”»åƒ(figure4.png)ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚HTMLã¨åŒã˜å ´æ‰€ã«ç½®ã„ã¦ãã ã•ã„ã€‚')">
        </div>
    </div>

    <div class="content-box">
        <h3>1. å•ã„</h3>
        <div class="question-text">
            å›³4ï¼ˆä¸Šå›³ï¼‰ã®ã‚ˆã†ãªå›è·¯ã«ãŠã„ã¦ã€ã‚¹ã‚¤ãƒƒãƒã‚’ã™ã¹ã¦é–‰ã˜ã¦æ™‚é–“ãŒçµŒã£ãŸå¾Œã€ä¸­å¤®ã®ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ $C_3$ ã«é›»è·ãŒå…¨ãæºœã¾ã‚‰ãªããªã‚‹ï¼ˆé›»æµãŒæµã‚Œãªã„ï¼‰ã®ã¯ã€ä»–ã®æŠµæŠ—ã‚„ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ãŒã©ã®ã‚ˆã†ãªé–¢ä¿‚ã®æ™‚ã‹ï¼Ÿ
        </div>
    </div>

    <div class="content-box">
        <h3>2. è‡ªåˆ†ã®è€ƒãˆãƒ»ä»®èª¬</h3>
        <textarea placeholder="ä¸­å¤®ã«é›»æ°—ãŒæµã‚Œãªã„ã¨ã„ã†ã“ã¨ã¯ã€ä¸Šä¸‹ã®é›»ä½ãŒ... ã«ãªã£ã¦ã„ã‚‹ã¯ãšã€‚ãã®ãŸã‚ã«ã¯æŠµæŠ—å€¤ã¨å®¹é‡ãŒ... ã¨ã„ã†é–¢ä¿‚ãŒå¿…è¦ã ã¨æ€ã†ã€‚"></textarea>
    </div>

    <div class="content-box">
        <h3>3. èª¿ã¹ãŸã“ã¨ï¼ˆå®Ÿé¨“æ‰‹é †ï¼‰</h3>
        <div class="procedure-text">
            <ol>
                <li>å›³4ã¨åŒã˜å›è·¯ï¼ˆæŠµæŠ—2ã¤ã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼3ã¤ã€ã‚¹ã‚¤ãƒƒãƒ2ã¤ï¼‰ã‚’ä½œæˆã™ã‚‹ã€‚</li>
                <li>å…¨ã¦ã®ã‚¹ã‚¤ãƒƒãƒã‚’é–‰ã˜ã€å®šå¸¸çŠ¶æ…‹ï¼ˆé›»æµãŒä¸€å®šï¼‰ã«ãªã‚‹ã¾ã§å¾…ã¤ã€‚</li>
                <li>æŠµæŠ— $R_1, R_2$ ã‚„å®¹é‡ $C_1, C_2$ ã®å€¤ã‚’ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§å¤‰åŒ–ã•ã›ã‚‹ã€‚</li>
                <li>ä¸­å¤®ã®ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ $C_3$ ã®é›»è·ï¼ˆã¾ãŸã¯é›»åœ§ï¼‰ãŒã¡ã‚‡ã†ã© <strong>0</strong> ã«ãªã‚‹æ¡ä»¶ã‚’æ¢ã™ã€‚</li>
            </ol>
        </div>
        <h3>å®Ÿé¨“çµæœ</h3>
        <textarea placeholder="R1ã‚’...Î©, R2ã‚’...Î©, C1ã‚’...F, C2ã‚’...F ã«è¨­å®šã—ãŸæ™‚ã€C3ã®é›»è·ãŒ0ã«ãªã£ãŸã€‚è¨ˆç®—ã—ã¦ã¿ã‚‹ã¨..."></textarea>
    </div>

    <div class="content-box">
        <h3>4. æ°—ã¥ã„ãŸã“ã¨ï¼ˆä»®èª¬ã¨ã®å¯¾æ¯”ï¼‰</h3>
        <textarea placeholder="é›»è·ãŒ0ã«ãªã‚‹æ¡ä»¶ã¯ã€æŠµæŠ—ã®æ¯”ã¨ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ã®æ¯”ãŒ... ã«ãªã£ã¦ã„ã‚‹æ™‚ã ã£ãŸã€‚ã“ã‚Œã¯ãƒ›ã‚¤ãƒ¼ãƒˆã‚¹ãƒˆãƒ³ãƒ–ãƒªãƒƒã‚¸ã¨ä¼¼ã¦ã„ã¦..."></textarea>
    </div>

    <h2>3. ã‚ã‹ã£ãŸã“ã¨ï¼ˆå­¦å•ï¼‰</h2>
    <div class="content-box">
        <p style="font-size:14px; color:#555;">â€»ä¸Šè¨˜ã®2ã¤ã®ã€Œæ°—ã¥ã„ãŸã“ã¨ã€ã‚’çµ±åˆã—ã€è€ƒå¯Ÿã—ã¦è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚</p>
        <textarea style="height: 150px;" placeholder="ä»Šå›ã®å®Ÿé¨“ã‚’é€šã—ã¦ã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãƒ¼ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ä¿å­˜ã¨å›è·¯ã®é›»ä½å¹³è¡¡ã«ã¤ã„ã¦ä»¥ä¸‹ã®ã“ã¨ãŒã‚ã‹ã£ãŸã€‚..."></textarea>
    </div>
</div>

<div class="action-area no-print">
    <button class="btn-pdf" onclick="generatePDF()">ğŸ“„ PDFã¨ã—ã¦ä¿å­˜ã—ã¦æå‡º</button>
    <p style="font-size:12px; color:#666;">â€»ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨PDFãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚</p>
</div>

<script>
    // PDFç”Ÿæˆ
    function generatePDF() {
        const element = document.getElementById('report-content');
        
        // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å†…å®¹ã‚’HTMLã«ç„¼ãä»˜ã‘ã‚‹ï¼ˆPDFã§ã®è¡¨ç¤ºã‚ºãƒ¬é˜²æ­¢ï¼‰
        document.querySelectorAll('textarea').forEach(area => {
            area.innerHTML = area.value;
        });
        document.querySelectorAll('input[type="text"]').forEach(input => {
            input.setAttribute('value', input.value);
        });

        const opt = {
            margin:       0,
            filename:     'ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿé¨“ãƒ¬ãƒãƒ¼ãƒˆ.pdf',
            image:        { type: 'jpeg', quality: 0.98 },
            html2canvas:  { scale: 2, useCORS: true }, 
            jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };

        // ä¸è¦ãªè¦ç´ ã‚’éš ã™
        document.querySelectorAll('.no-print').forEach(el => el.style.display = 'none');

        html2pdf().set(opt).from(element).save().then(() => {
            // ç”Ÿæˆå¾Œã«å¾©å¸°
            document.querySelectorAll('.no-print').forEach(el => el.style.display = '');
            alert('PDFãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã—ãŸã€‚');
        });
    }
</script>

</body>
</html>
